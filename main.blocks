<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="=%L{*k7gbL=1Xh1@zzV3">nivelFelicidad</variable><variable id="[Xya.i[+Ii1WC_ec:9mH">ultimaInteraccion</variable><variable id="^Q3+}G@tZK)[Zcg,+)Ey">nivelEnergia</variable></variables><block type="pxt-on-start" id="A11_%wk(1H3mp^W)mdS?" x="20" y="20"><statement name="HANDLER"><block type="variables_set" id="0-BQ]@Qf)0yGT)YCtD_O"><field name="VAR" id="=%L{*k7gbL=1Xh1@zzV3">nivelFelicidad</field><comment pinned="false" h="80" w="160">Inicialización al iniciar el Micro:bit
Puedes empezar en 0 o en 1 si quieres una cara feliz al inicio</comment><value name="VALUE"><shadow type="math_number" id="k.mEWKQ^a^Wzs|.}tm.)"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="2{Ry(dz8H=B3LkiqB2fm"><field name="VAR" id="^Q3+}G@tZK)[Zcg,+)Ey">nivelEnergia</field><data>{"commentRefs":[],"fieldData":{}}</data><value name="VALUE"><shadow type="math_number" id="td;Zw-f8K5o6p}Q64{oe"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="-MHTui=.QXztBnC|bk8a"><field name="VAR" id="[Xya.i[+Ii1WC_ec:9mH">ultimaInteraccion</field><comment pinned="false" h="80" w="160">Registra el tiempo de inicio</comment><value name="VALUE"><shadow type="math_number" id="s`Ii-|Y`BPog}`8LZad*"><field name="NUM">0</field></shadow><block type="control_running_time" id="=n}mufH)3,JoEAKK8P}v"></block></value></block></next></block></next></block></statement></block><block type="device_button_event" id="U_qk7r{.Dc*fp2O6!x.H" x="558" y="20"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">Registra el tiempo de inicio
--- Botón A: Incrementa felicidad ---</comment><statement name="HANDLER"><block type="basic_show_icon" id=")qP$zw=h)__|S?u5w).+"><field name="i">IconNames.Happy</field><comment pinned="false" h="80" w="160">Muestra cara feliz</comment><next><block type="variables_change" id=")rXx8LeVX)D9%rvMwpbj"><field name="VAR" id="=%L{*k7gbL=1Xh1@zzV3">nivelFelicidad</field><data>{"commentRefs":[],"fieldData":{}}</data><value name="VALUE"><shadow type="math_number" id="Sk~OVa,Ptc2HvSZt3ne?"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="@`am_(-9?SS8/kZek{Pr"><field name="VAR" id="[Xya.i[+Ii1WC_ec:9mH">ultimaInteraccion</field><comment pinned="false" h="80" w="160">Reinicia el temporizador</comment><value name="VALUE"><shadow type="math_number" id="?fvOLa?*ob#+hSbkb]Ku"><field name="NUM">0</field></shadow><block type="control_running_time" id="jRk8h;m2*w?rswAo}9lP"></block></value></block></next></block></next></block></statement></block><block type="device_button_event" id="0U_8np-W-LIf-Thn{aQz" x="1096" y="20"><field name="NAME">Button.B</field><comment pinned="false" h="80" w="160">--- Botón B: Incrementa energía ---</comment><statement name="HANDLER"><block type="basic_show_icon" id="L9kl!ci?PV@htMqR56{I"><field name="i">IconNames.Heart</field><comment pinned="false" h="80" w="160">Muestra un corazón</comment><next><block type="variables_change" id="}:hS+lt-U(z-$t(:(ljx"><field name="VAR" id="^Q3+}G@tZK)[Zcg,+)Ey">nivelEnergia</field><data>{"commentRefs":[],"fieldData":{}}</data><value name="VALUE"><shadow type="math_number" id="Y+v,DD-ovK:]8GOuoSd1"><field name="NUM">1</field></shadow></value><next><block type="variables_set" id="}f~0u54*+=HBjY4e9Y!k"><field name="VAR" id="[Xya.i[+Ii1WC_ec:9mH">ultimaInteraccion</field><comment pinned="false" h="80" w="160">Reinicia el temporizador</comment><value name="VALUE"><shadow type="math_number" id="RMCkWcEmT]sC+DCyVC?C"><field name="NUM">0</field></shadow><block type="control_running_time" id="7Gkpv(+4yOk}.B4r?phy"></block></value></block></next></block></next></block></statement></block><block type="device_button_event" id="MNsW=QLzC(?6AM)+_-J`" x="1634" y="20"><field name="NAME">Button.AB</field><comment pinned="false" h="80" w="160">--- Botón AB: Muestra números y verifica condición especial ---</comment><statement name="HANDLER"><block type="device_show_number" id="t+!|,]0=Ch?E^rLh`Mn|"><value name="number"><block type="variables_get" id="xZXWSAapSsj*{P#[)If%"><field name="VAR" id="=%L{*k7gbL=1Xh1@zzV3">nivelFelicidad</field></block></value><next><block type="device_show_number" id="`~F1f$]}q~kCCX)!]27]"><value name="number"><block type="variables_get" id="V6`9~moc|pJuj.!KJI`g"><field name="VAR" id="^Q3+}G@tZK)[Zcg,+)Ey">nivelEnergia</field></block></value><next><block type="controls_if" id="DUx!qS+Z.f6twIoBYHt~"><value name="IF0"><shadow type="logic_boolean" id="f{+4[A~LVr|6=P9X]usY"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="dJ9AjK$0ku:YvWhcaPg-"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="3,DjY;7WP-de?1q%Xjhx"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="w4n=70*i?E8VO?q3rcJ]"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id=":Gyn_O-8L@yg-P.+ubOZ"><field name="NUM">0</field></shadow><block type="variables_get" id="b(-d3H7k,zWlLzV4Aj(e"><field name="VAR" id="=%L{*k7gbL=1Xh1@zzV3">nivelFelicidad</field></block></value><value name="B"><shadow type="math_number" id="ymXHB0cvFo_dyakJs)k6"><field name="NUM">5</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="B5@9+61|-f)=ZQ0O2g^a"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="H710AEvVoJR4W=(;fj]j"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="Wkl#WiJkkUjyZAJTb}py"><field name="NUM">0</field></shadow><block type="variables_get" id="`@-OU;QG@02KDe%]r@y9"><field name="VAR" id="^Q3+}G@tZK)[Zcg,+)Ey">nivelEnergia</field></block></value><value name="B"><shadow type="math_number" id="MHzi6G}^6/(wpQPr{_}v"><field name="NUM">5</field></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_change" id="lo259Xg=cen5]yoc8?P?"><field name="VAR" id="^Q3+}G@tZK)[Zcg,+)Ey">nivelEnergia</field><value name="VALUE"><shadow type="math_number" id="%@x5M2A-ZFziPKC}oI?:"><field name="NUM">1</field></shadow></value><next><block type="variables_change" id="hBIDosRn/-G+s8,ASGy4"><field name="VAR" id="=%L{*k7gbL=1Xh1@zzV3">nivelFelicidad</field><value name="VALUE"><shadow type="math_number" id="zO-/PLc1Rtw}nq:DPf*s"><field name="NUM">1</field></shadow></value></block></next></block></statement><next><block type="variables_set" id="EU[-XvA%qBC@/-s%C4S7"><field name="VAR" id="[Xya.i[+Ii1WC_ec:9mH">ultimaInteraccion</field><comment pinned="false" h="80" w="160">Reinicia el temporizador</comment><value name="VALUE"><shadow type="math_number" id="vPfQZl@Beu!{~/OV?beI"><field name="NUM">0</field></shadow><block type="control_running_time" id="bJ=!9]{]%zV?CMEDIi?="></block></value></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="h$,xlT$:5qnOtzbH1smh" x="20" y="481"><comment pinned="false" h="80" w="160">Nueva variable para el temporizador
--- Bloque al iniciar ---</comment></block><block type="device_forever" id="~.UhWcG#OeAv6)bnYZjX" x="225" y="481"><comment pinned="false" h="80" w="160">--- Bucle "para siempre": Lógica de inactividad y visualización ---</comment><statement name="HANDLER"><block type="controls_if" id="3.QVNH,O_(u*g#o6kg+d"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Si han pasado más de 10 segundos (10000 milisegundos) desde la última interacción
Si no está inactivo, muestra el icono basado en la felicidad o energía
Aquí podrías decidir qué mostrar por defecto si no hay inactividad
Por ejemplo, si quieres que muestre una cara feliz por defecto
o la cara basada en el nivelFelicidad.
Por ahora, no haremos nada aquí, ya que tus botones ya muestran íconos.
Si quieres un "estado por defecto" cuando no está triste, aquí iría.</comment><value name="IF0"><shadow type="logic_boolean" id="VK[dAc51lLOss?07U=ko"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="S01o~Vc_I*.4;j1/ndxo"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="ou.ZcP)I#2kR7t$.]^vB"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="1uq@-!vNQRCot#gE:_gA"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="l[)a/ha$MRV|e=c$V.)T"><field name="NUM">0</field></shadow><block type="control_running_time" id="O]egaRfSaG@LQORc=jaY"></block></value><value name="B"><shadow type="math_number" id="Dnz9wUye*`VfBppni(ap"><field name="NUM">0</field></shadow><block type="variables_get" id="#yRGrt}kH2qdU4Trn#s{"><field name="VAR" id="[Xya.i[+Ii1WC_ec:9mH">ultimaInteraccion</field></block></value></block></value><value name="B"><shadow type="math_number" id="|wFF!3Vxm^qSr{wo2`VP"><field name="NUM">10000</field></shadow></value></block></value><statement name="DO0"><block type="basic_show_icon" id="3QS8N+s,k]%b{+=F)1/]"><field name="i">IconNames.Sad</field><comment pinned="false" h="80" w="160">Muestra la cara triste</comment><next><block type="device_pause" id="8sRtf!Gh268N$R206tIo"><comment pinned="false" h="80" w="160">Pausa para que la cara triste sea visible por 1 segundo</comment><value name="pause"><shadow type="timePicker" id="!?_7%8H+)fZSrRjWN%2h"><field name="ms">1000</field></shadow></value></block></next></block></statement></block></statement></block><block type="device_gesture_event" id="yg$K^P.x/jeS$Fu|K^/M" x="1052" y="481"><field name="NAME">Gesture.Shake</field><comment pinned="false" h="80" w="160">--- Gesto Agitar: Saludo de "Buenos Días" ---</comment><statement name="HANDLER"><block type="controls_if" id="za,=%Ivpn$x)hS4%sO^f"><value name="IF0"><shadow type="logic_boolean" id="J:XGP=B2@%d`//e7Yig5"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="#AS(N~hFbsF4kcwXA@[R"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="]g!Z:Xz22LH;4$c[LHV-"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="-;-|j7;JRpgUb+Ve8dO."><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="F(Z(n,*}Vzl4H23h3Yd6"><field name="NUM">0</field></shadow><block type="variables_get" id="zFbo~c43)Yb0bptylM+7"><field name="VAR" id="=%L{*k7gbL=1Xh1@zzV3">nivelFelicidad</field></block></value><value name="B"><shadow type="math_number" id="+v!:DcY`V^D:9i(4HV`I"><field name="NUM">1</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="O-x+WpO?l;CR},63F@Uw"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Bbcc,v`g{Z,)QGB0y{v@"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="Kwhh)~%(|a`yEqT(Y`+M"><field name="NUM">0</field></shadow><block type="variables_get" id="#+dORoy;[qL=O5H+LTog"><field name="VAR" id="^Q3+}G@tZK)[Zcg,+)Ey">nivelEnergia</field></block></value><value name="B"><shadow type="math_number" id="wKz0iOMSaY9KY9$olws1"><field name="NUM">1</field></shadow></value></block></value></block></value><statement name="DO0"><block type="device_print_message" id="auk}C]-8}zYYKI:@sI$5"><comment pinned="false" h="80" w="160">Asegúrate de que estas condiciones se puedan cumplir</comment><value name="text"><shadow type="text" id="~}l8lYA{BLD_{j)e8QNO"><field name="TEXT">Buenos Dias</field></shadow></value></block></statement><next><block type="variables_set" id="Yn--4eZaDWZ9pd}E-:|4"><field name="VAR" id="[Xya.i[+Ii1WC_ec:9mH">ultimaInteraccion</field><comment pinned="false" h="80" w="160">Reinicia el temporizador</comment><value name="VALUE"><shadow type="math_number" id="aj(4,i^$b4j%TPbg!Ee!"><field name="NUM">0</field></shadow><block type="control_running_time" id="6):5KhKE?sUG0+j,Qs(|"></block></value></block></next></block></statement></block></xml>